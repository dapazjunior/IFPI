<div class="row g-4">
  <!-- Left: Criar Tipo / Gerar Documento -->
  <div class="col-lg-5">
    <!-- Criar Tipo -->
    <div class="card mb-4 border-0 shadow-sm">
      <div class="card-header bg-primary text-white rounded-top-3">
        <strong><i class="bi bi-plus-circle"></i> Criar novo tipo de documento</strong>
      </div>
      <div class="card-body">
        <form id="formAddType" class="row g-3">
          <div class="col-12">
            <label class="form-label fw-semibold">Nome do tipo</label>
            <input id="typeName" class="form-control form-control-lg" placeholder="Ex: Nota Técnica" required>
          </div>
          <div class="col-6">
            <label class="form-label fw-semibold">Prefixo</label>
            <input id="typePrefix" class="form-control" placeholder="Ex: NT" required>
          </div>
          <div class="col-6">
            <label class="form-label fw-semibold">Número inicial</label>
            <input id="typeInitial" type="number" class="form-control" value="1" min="1">
          </div>
          <div class="col-12 pt-2">
            <button class="btn btn-success btn-lg w-100 py-2" type="submit">
              <i class="bi bi-check-circle"></i> Adicionar Tipo
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Gerar Documento -->
    <div class="card border-0 shadow-sm">
      <div class="card-header bg-success text-white rounded-top-3">
        <strong><i class="bi bi-file-earmark-plus"></i> Gerar novo documento</strong>
      </div>
      <div class="card-body">
        <form id="formGenerate" class="row g-3">
          <div class="col-12">
            <label class="form-label fw-semibold">Tipo de documento</label>
            <select id="selectType" class="form-select" required>
              <option value="">Carregando tipos...</option>
            </select>
          </div>
          <div class="col-12">
            <label class="form-label fw-semibold">Responsável</label>
            <input id="inputResponsible" class="form-control" placeholder="Seu nome" required>
          </div>
          <div class="col-12">
            <label class="form-label fw-semibold">Descrição (opcional)</label>
            <textarea id="inputDescription" class="form-control" placeholder="Assunto ou observação" rows="2"></textarea>
          </div>
          <div class="col-12 pt-2">
            <button class="btn btn-primary btn-lg w-100 py-2" type="submit">
              <i class="bi bi-file-text"></i> Gerar Documento
            </button>
          </div>
        </form>

        <div id="lastGenerated" class="alert alert-info mt-4 d-none alert-dismissible fade show" role="alert">
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          <div id="lastGeneratedContent"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right: tabelas (tipos / contadores / histórico) -->
  <div class="col-lg-7">
    <div class="card mb-4 border-0 shadow-sm">
      <div class="card-header bg-light border-0">
        <strong><i class="bi bi-card-checklist"></i> Tipos cadastrados</strong>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover mb-0">
            <thead class="table-light">
              <tr>
                <th>Nome</th>
                <th>Prefixo</th>
                <th>Próx. Nº</th>
                <th>Total</th>
                <th>Ação</th>
              </tr>
            </thead>
            <tbody id="typesTableBody">
              <tr><td colspan="5" class="text-center py-4">Carregando...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card mb-4 border-0 shadow-sm">
      <div class="card-header bg-light border-0">
        <strong><i class="bi bi-speedometer2"></i> Contadores (visão)</strong>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover mb-0">
            <thead class="table-light">
              <tr>
                <th>Tipo</th>
                <th>Próximo</th>
                <th>Total</th>
                <th>Última geração</th>
                <th>Responsável</th>
              </tr>
            </thead>
            <tbody id="countersBody">
              <tr><td colspan="5" class="text-center py-4">Carregando...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card border-0 shadow-sm">
      <div class="card-header bg-light border-0">
        <strong><i class="bi bi-clock-history"></i> Histórico (últimos 50)</strong>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive" style="max-height: 360px; overflow:auto;">
          <table class="table table-hover mb-0">
            <thead class="table-light" style="position: sticky; top: 0; z-index: 1;">
              <tr>
                <th>Data</th>
                <th>Tipo</th>
                <th>Número</th>
                <th>Responsável</th>
                <th>Descrição</th>
              </tr>
            </thead>
            <tbody id="historyBody">
              <tr><td colspan="5" class="text-center py-4">Carregando...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>